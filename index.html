<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hayvanlarda Sinir Sistemi - Naci Karhan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .correct-btn { background-color: #10b981 !important; color: white !important; border-color: #10b981 !important; }
        .wrong-btn { background-color: #ef4444 !important; color: white !important; border-color: #ef4444 !important; }
        .review-card { transition: all 0.3s ease; }
        .review-card:hover { transform: translateY(-2px); }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-indigo-700 text-white p-6 shadow-xl">
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-3">
                <div class="bg-white p-2 rounded-xl text-indigo-700 shadow-inner">
                    <i class="fas fa-brain fa-2x"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-extrabold tracking-tight">Sinir Sistemi FarklÄ±lÄ±klarÄ±</h1>
                    <p class="text-indigo-100 text-xs">YKS Biyoloji HazÄ±rlÄ±k UygulamasÄ±</p>
                </div>
            </div>
            <nav class="flex bg-indigo-800/50 p-1 rounded-2xl">
                <button onclick="showTab('home')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold transition-all bg-white text-indigo-700 shadow">GiriÅŸ</button>
                <button onclick="showTab('discover')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold transition-all hover:bg-indigo-600">KeÅŸfet</button>
                <button onclick="showTab('summary')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold transition-all hover:bg-indigo-600">Ã–zet</button>
                <button onclick="showTab('quiz')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold transition-all hover:bg-indigo-600">Dene</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-4xl w-full mx-auto p-4 md:p-8">

        <!-- Home Section -->
        <section id="home" class="tab-content active space-y-6">
            <div class="bg-white rounded-3xl p-8 shadow-xl border border-slate-100 relative overflow-hidden transition-all hover:scale-[1.01]">
                <h2 class="text-3xl font-black text-indigo-900 mb-4">BaÅŸarÄ±ya Giden Yol! ðŸš€</h2>
                <p class="text-lg text-slate-600 mb-8 leading-relaxed">
                    Hayvanlar alemindeki sinir sistemlerinin evrimsel geliÅŸimini MEB mÃ¼fredatÄ±na tam uyumlu olarak Ã¶ÄŸrenmeye hazÄ±r mÄ±sÄ±n? 
                    Bu uygulama ile Ã¶nce <b>keÅŸfedecek</b>, sonra <b>Ã¶zet notlarla</b> pekiÅŸtirecek ve en sonunda <b>kendini deneyeceksin.</b>
                </p>
                <div class="flex flex-wrap gap-4">
                    <button onclick="showTab('discover')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-bold shadow-lg shadow-indigo-200 transition-all flex items-center gap-2">
                        Hemen KeÅŸfet <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-2xl shadow-md text-center border-b-4 border-amber-400">
                    <i class="fas fa-microscope text-amber-500 text-2xl mb-3"></i>
                    <h3 class="font-bold">Bilimsel Ä°Ã§erik</h3>
                    <p class="text-xs text-slate-500 mt-2">Akademik dÃ¼zeyde doÄŸruluk, lise dÃ¼zeyinde anlatÄ±m.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-md text-center border-b-4 border-blue-400">
                    <i class="fas fa-stopwatch text-blue-500 text-2xl mb-3"></i>
                    <h3 class="font-bold">SÃ¼re YÃ¶netimi</h3>
                    <p class="text-xs text-slate-500 mt-2">YKS tadÄ±nda 5 dakikalÄ±k etkileÅŸimli test.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-md text-center border-b-4 border-emerald-400">
                    <i class="fas fa-check-double text-emerald-500 text-2xl mb-3"></i>
                    <h3 class="font-bold">AnÄ±nda SonuÃ§</h3>
                    <p class="text-xs text-slate-500 mt-2">HatalarÄ±nÄ± anÄ±nda gerekÃ§esiyle Ã¶ÄŸren.</p>
                </div>
            </div>
        </section>

        <!-- Discover Section -->
        <section id="discover" class="tab-content space-y-6">
            <h2 class="text-2xl font-bold text-slate-800 border-l-4 border-indigo-600 pl-4">Evrimsel Basamaklar</h2>
            <div id="discover-list" class="space-y-4">
                <!-- Ä°Ã§erik JS ile dolacak -->
            </div>
        </section>

        <!-- Summary Section -->
        <section id="summary" class="tab-content space-y-6">
            <h2 class="text-2xl font-bold text-slate-800 border-l-4 border-emerald-600 pl-4">KÄ±sa Notlar (Hap Bilgiler)</h2>
            <div id="summary-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Ä°Ã§erik JS ile dolacak -->
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quiz" class="tab-content space-y-6">
            <div id="quiz-intro" class="bg-white rounded-3xl p-10 text-center shadow-xl border border-indigo-50">
                <div class="bg-indigo-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-600">
                    <i class="fas fa-clock fa-2x"></i>
                </div>
                <h2 class="text-2xl font-bold text-slate-800 mb-4">HazÄ±r mÄ±sÄ±n?</h2>
                <p class="text-slate-500 mb-8">10 soru, 5 dakika ve her doÄŸru 10 puan. Sesli uyarÄ±lar aktiftir.</p>
                <button onclick="startQuiz()" class="bg-indigo-600 text-white px-10 py-4 rounded-2xl font-bold text-lg shadow-lg hover:bg-indigo-700 transition-all">SÄ±navÄ± BaÅŸlat</button>
            </div>

            <div id="quiz-container" class="hidden space-y-6">
                <div class="flex justify-between items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                    <div class="font-bold text-indigo-700">Soru: <span id="q-count">1/10</span></div>
                    <div id="timer" class="font-mono text-xl font-bold text-slate-700 flex items-center gap-2">
                        <i class="fas fa-hourglass-half"></i> 05:00
                    </div>
                    <div class="font-bold text-emerald-600">Puan: <span id="q-score">0</span></div>
                </div>

                <div class="bg-white rounded-3xl p-8 shadow-md border border-slate-100 min-h-[400px]">
                    <h3 id="question-text" class="text-xl font-bold text-slate-800 mb-8 leading-snug">Soru metni buraya gelecek...</h3>
                    <div id="options-container" class="grid gap-3">
                        <!-- SeÃ§enekler JS ile dolacak -->
                    </div>
                    <div id="feedback" class="mt-6 p-4 rounded-xl hidden text-sm font-medium italic"></div>
                </div>
            </div>

            <div id="quiz-result" class="hidden space-y-8 animate-in zoom-in duration-300">
                <div class="bg-white rounded-3xl p-10 text-center shadow-xl border border-indigo-50">
                    <div class="text-indigo-600 mb-4"><i class="fas fa-trophy fa-4x"></i></div>
                    <h2 class="text-3xl font-black mb-2">SÄ±nav TamamlandÄ±!</h2>
                    <p id="final-score-text" class="text-xl text-slate-600 mb-6">Toplam Puan: 0</p>
                    <div id="performance-msg" class="bg-slate-50 p-6 rounded-2xl mb-8 font-medium"></div>
                    <div class="flex justify-center gap-4">
                        <button onclick="location.reload()" class="bg-slate-200 text-slate-700 px-8 py-3 rounded-xl font-bold hover:bg-slate-300 transition-all">BaÅŸtan BaÅŸla</button>
                        <button onclick="scrollToAnalysis()" class="bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all">SorularÄ± Ä°ncele â†“</button>
                    </div>
                </div>

                <!-- Analysis Table -->
                <div id="analysis-container" class="space-y-4">
                    <h3 class="text-2xl font-black text-slate-800 text-center mb-6">Soru Analizi</h3>
                    <div id="analysis-list" class="space-y-4">
                        <!-- SonuÃ§lar buraya gelecek -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 p-8 mt-12">
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-sm">
                <p>Â© 2024 YKS Biyoloji EtkileÅŸim</p>
                <p class="text-xs text-slate-600 mt-1 italic">Bu uygulama MEB kazanÄ±mlarÄ± esas alÄ±narak hazÄ±rlanmÄ±ÅŸtÄ±r.</p>
            </div>
            <div class="flex items-center gap-3">
                <div class="text-right">
                    <p class="text-sm font-bold text-slate-200">TasarÄ±m: Naci Karhan</p>
                    <p class="text-xs text-indigo-400">Biyoloji EÄŸitim Platformu</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // --- DATA ---
        const discoverContent = [
            { title: "SÃ¼ngerler", desc: "DokulaÅŸma yoktur. GerÃ§ek bir sinir sistemi ve duyu hÃ¼cresi bulunmaz. Tepki hÃ¼cresel dÃ¼zeydedir.", icon: "ðŸ§½" },
            { title: "SÃ¶lenterler (Hidra)", desc: "Ä°lk sinir sistemi 'AÄŸsÄ± (DifÃ¼z) Sistem' burada gÃ¶rÃ¼lÃ¼r. Ã–zelleÅŸmiÅŸ merkez/beyin yoktur. UyarÄ± tÃ¼m vÃ¼cuda yayÄ±lÄ±r.", icon: "ðŸ™" },
            { title: "YassÄ± Solucanlar (Planarya)", desc: "Sefalizasyon (merkezileÅŸme) baÅŸlar. BaÅŸ bÃ¶lgesinde gangliyonlar bulunur. 'Merdiven Sinir Sistemi' gÃ¶rÃ¼lÃ¼r.", icon: "ðŸ›" },
            { title: "HalkalÄ± Solucanlar & EklembacaklÄ±lar", desc: "Sinir kordonu KARIN (ventral) bÃ¶lgesindedir. Her segmentte gangliyonlar ve geliÅŸmiÅŸ duyu organlarÄ± mevcuttur.", icon: "ðŸœ" },
            { title: "OmurgalÄ±lar", desc: "Sinir ÅŸeridi SIRT (dorsal) bÃ¶lgesindedir. Beyin ve omurilikten oluÅŸan geliÅŸmiÅŸ Merkezi Sinir Sistemi (MSS) bulunur.", icon: "ðŸ¦" }
        ];

        const summaryNotes = [
            "Sinir sistemi bulunmayan tek hayvan grubu sÃ¼ngerlerdir.",
            "Deniz anasÄ± ve hidrada beyin yoktur, aÄŸsÄ± sinir sistemi vardÄ±r.",
            "Planarya (yassÄ± solucan) merkezi sinir sisteminin ilk ilkel Ã¶rneÄŸidir.",
            "OmurgasÄ±zlarÄ±n sinir ÅŸeridi vÃ¼cudun karÄ±n (ventral) kÄ±smÄ±ndadÄ±r.",
            "OmurgalÄ±larÄ±n (balÄ±k, kuÅŸ, memeli vb.) sinir ÅŸeridi SIRT (dorsal) kÄ±smÄ±ndadÄ±r.",
            "Gangliyon: Sinir hÃ¼cre gÃ¶vdelerinin oluÅŸturduÄŸu kÃ¼melenmelerdir.",
            "Sefalizasyon: KontrolÃ¼n baÅŸ bÃ¶lgesinde toplanmasÄ± (beyinleÅŸme).",
            "AÄŸsÄ± sinir sisteminde uyarÄ±nÄ±n ÅŸiddeti her yÃ¶ne azalarak iletilir.",
            "Eklem bacaklÄ±larda duyu organlarÄ± (bileÅŸik gÃ¶z vb.) Ã§ok geliÅŸmiÅŸtir.",
            "NÃ¶ral tÃ¼p: OmurgalÄ±larda sinir sisteminin geliÅŸtiÄŸi embriyonik yapÄ±dÄ±r.",
            "Ä°p merdiven tipi yapÄ± en tipik olarak yassÄ± solucanlarda gÃ¶rÃ¼lÃ¼r.",
            "BÃ¶ceklerde ventral sinir kordonu her segmentte sinir dÃ¼ÄŸÃ¼mleri taÅŸÄ±r.",
            "MerkezileÅŸme arttÄ±kÃ§a Ã¶ÄŸrenme ve hafÄ±za yeteneÄŸi de artar.",
            "SÃ¼ngerlerde koordinasyon sadece kimyasal yollarla veya hÃ¼creler arasÄ± iletimle saÄŸlanÄ±r."
        ];

        const questions = [
            {
                q: "Sinir sistemi bulunmayan tek Ã§ok hÃ¼creli hayvan grubu hangisidir?",
                options: ["SÃ¼ngerler", "SÃ¶lenterler", "YassÄ± solucanlar", "HalkalÄ± solucanlar", "Eklem bacaklÄ±lar"],
                correct: 0,
                rat: "SÃ¼ngerlerde gerÃ§ek dokulaÅŸma ve sinir hÃ¼cresi yoktur."
            },
            {
                q: "Ä°lk defa merkezileÅŸmenin (sefalizasyon) gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ canlÄ± grubu hangisidir?",
                options: ["Deniz anasÄ±", "Hidra", "Planarya", "Toprak solucanÄ±", "ArÄ±"],
                correct: 2,
                rat: "YassÄ± solucanlardan olan Planarya'da ilk gangliyonlar (beyin baÅŸlangÄ±cÄ±) gÃ¶rÃ¼lÃ¼r."
            },
            {
                q: "AÅŸaÄŸÄ±daki canlÄ±lardan hangisinde sinir ÅŸeridi vÃ¼cudun sÄ±rt (dorsal) kÄ±smÄ±nda yer alÄ±r?",
                options: ["Ã‡ekirge", "Toprak solucanÄ±", "Kertenkele", "Deniz yÄ±ldÄ±zÄ±", "Ahtapot"],
                correct: 2,
                rat: "Kertenkele bir omurgalÄ±dÄ±r ve omurgalÄ±larda sinir ÅŸeridi sÄ±rttadÄ±r."
            },
            {
                q: "Hidra'da gÃ¶rÃ¼len aÄŸsÄ± (difÃ¼z) sinir sistemi ile ilgili hangisi doÄŸrudur?",
                options: ["Ã–zelleÅŸmiÅŸ bir beyin bulunur.", "UyarÄ±lara karÅŸÄ± tÃ¼m vÃ¼cutla tepki verilir.", "Sinir kordonu ventraldedir.", "Sefalizasyon gÃ¶rÃ¼lÃ¼r.", "Sadece baÅŸ bÃ¶lgesinde nÃ¶ron vardÄ±r."],
                correct: 1,
                rat: "Merkez olmadÄ±ÄŸÄ± iÃ§in uyarÄ± tÃ¼m vÃ¼cuda yayÄ±lÄ±r ve bÃ¼tÃ¼ncÃ¼l tepki verilir."
            },
            {
                q: "Merdiven sinir sisteminde boyuna uzanan kordonlarÄ± birbirine baÄŸlayan yapÄ±larÄ±n adÄ± nedir?",
                options: ["Gangliyon", "Dendrit", "Enine sinirler", "NÃ¶ral tÃ¼p", "Miyelin"],
                correct: 2,
                rat: "Enine baÄŸlantÄ±lar yapÄ±ya 'merdiven' gÃ¶rÃ¼nÃ¼mÃ¼ kazandÄ±rÄ±r."
            },
            {
                q: "Gangliyon nedir?",
                options: ["Sinir hÃ¼cresi uzantÄ±sÄ±dÄ±r.", "HÃ¼cre gÃ¶vdelerinin kÃ¼melenmesidir.", "Bir tÃ¼r duyu organÄ±dÄ±r.", "Kas hÃ¼cresi grubudur.", "HÃ¼creler arasÄ± sÄ±vÄ±dÄ±r."],
                correct: 1,
                rat: "Gangliyonlar, sinir hÃ¼crelerinin gÃ¶vdelerinin bir araya gelmesiyle oluÅŸan dÃ¼ÄŸÃ¼mlerdir."
            },
            {
                q: "Eklem bacaklÄ±larÄ±n sinir sistemini diÄŸer omurgasÄ±zlardan ayÄ±ran temel geliÅŸim nedir?",
                options: ["Sinir hÃ¼cresinin olmasÄ±", "Merkezi bir kordonun olmasÄ±", "GeliÅŸmiÅŸ duyu organlarÄ± ve bÃ¼yÃ¼k gangliyonlar", "Sadece sÄ±rtta sinir olmasÄ±", "DokulaÅŸmanÄ±n olmamasÄ±"],
                correct: 2,
                rat: "Eklem bacaklÄ±larda sinir sistemi oldukÃ§a uzmanlaÅŸmÄ±ÅŸtÄ±r."
            },
            {
                q: "Deniz anasÄ±nda hangi sinir sistemi tipi bulunur?",
                options: ["Merdiven tipi", "AÄŸsÄ± (difÃ¼z)", "Merkezi sistem", "Ä°p merdiven", "NÃ¶ral tÃ¼p tipi"],
                correct: 1,
                rat: "SÃ¶lenterlerde Ã¶zelleÅŸmemiÅŸ yaygÄ±n bir aÄŸ yapÄ±sÄ± gÃ¶rÃ¼lÃ¼r."
            },
            {
                q: "OmurgalÄ±larda merkezi sinir sistemi hangi embriyonik tabakadan geliÅŸir?",
                options: ["Endoderm", "Mezoderm", "Ektoderm", "Gastroderm", "Epiderm"],
                correct: 2,
                rat: "Sinir sistemi ektoderm tabakasÄ±ndan farklÄ±laÅŸan nÃ¶ral tÃ¼pten geliÅŸir."
            },
            {
                q: "Evrimsel sÃ¼reÃ§te sinir sistemindeki geliÅŸim yÃ¶nÃ¼ nasÄ±ldÄ±r?",
                options: ["KarmaÅŸÄ±ktan basite", "Merkeziden yaygÄ±na", "YaygÄ±n yapÄ±dan merkezi yapÄ±ya", "SÄ±rt bÃ¶lgesinden karÄ±n bÃ¶lgesine", "HÃ¼creden dokuya doÄŸru azalarak"],
                correct: 2,
                rat: "Evrimsel sÃ¼reÃ§te sistemler basitten karmaÅŸÄ±ÄŸa ve yaygÄ±nlÄ±ktan merkeziliÄŸe doÄŸru geliÅŸmiÅŸtir."
            }
        ];

        // --- APP LOGIC ---
        let currentQ = 0;
        let score = 0;
        let timeLeft = 300;
        let timerInterval;
        let userChoices = [];

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(b => {
                b.classList.remove('bg-white', 'text-indigo-700', 'shadow');
                b.classList.add('hover:bg-indigo-600');
            });
            const activeBtn = Array.from(document.querySelectorAll('.nav-btn')).find(b => b.innerText.toLowerCase().includes(tabId === 'quiz' ? 'dene' : (tabId === 'home' ? 'giriÅŸ' : tabId)));
            if(activeBtn) {
                activeBtn.classList.add('bg-white', 'text-indigo-700', 'shadow');
                activeBtn.classList.remove('hover:bg-indigo-600');
            }
        }

        // Initialize Content
        function init() {
            const discList = document.getElementById('discover-list');
            discoverContent.forEach(item => {
                discList.innerHTML += `
                    <div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex gap-4 items-center review-card">
                        <div class="text-3xl p-3 bg-slate-50 rounded-xl">${item.icon}</div>
                        <div>
                            <h4 class="font-bold text-indigo-700">${item.title}</h4>
                            <p class="text-sm text-slate-600">${item.desc}</p>
                        </div>
                    </div>
                `;
            });

            const summGrid = document.getElementById('summary-grid');
            summaryNotes.forEach((note, i) => {
                summGrid.innerHTML += `
                    <div class="bg-white p-3 rounded-xl border-l-4 border-emerald-500 shadow-sm flex items-center gap-3 review-card">
                        <span class="text-xs font-bold text-emerald-600 opacity-50">#${i+1}</span>
                        <p class="text-sm text-slate-700 font-medium">${note}</p>
                    </div>
                `;
            });
        }

        function playSound(type) {
            try {
                const ctx = new (window.AudioContext || window.webkitAudioContext)();
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.connect(gain);
                gain.connect(ctx.destination);
                if(type === 'correct') {
                    osc.frequency.setValueAtTime(800, ctx.currentTime);
                    osc.frequency.exponentialRampToValueAtTime(1200, ctx.currentTime + 0.1);
                } else {
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(200, ctx.currentTime);
                }
                gain.gain.setValueAtTime(0.1, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.2);
                osc.start();
                osc.stop(ctx.currentTime + 0.2);
            } catch(e) {}
        }

        function startQuiz() {
            document.getElementById('quiz-intro').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            currentQ = 0;
            score = 0;
            timeLeft = 300;
            userChoices = [];
            updateQuestion();
            timerInterval = setInterval(() => {
                timeLeft--;
                const mins = Math.floor(timeLeft / 60);
                const secs = timeLeft % 60;
                document.getElementById('timer').innerHTML = `<i class="fas fa-hourglass-half"></i> ${mins}:${secs < 10 ? '0'+secs : secs}`;
                if (timeLeft <= 0) endQuiz();
            }, 1000);
        }

        function updateQuestion() {
            const q = questions[currentQ];
            document.getElementById('q-count').innerText = `${currentQ + 1}/10`;
            document.getElementById('q-score').innerText = score;
            document.getElementById('question-text').innerText = q.q;
            const optCont = document.getElementById('options-container');
            optCont.innerHTML = '';
            document.getElementById('feedback').classList.add('hidden');
            
            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "p-4 rounded-xl border-2 border-slate-100 text-left transition-all hover:border-indigo-400 hover:bg-indigo-50 font-medium flex items-center";
                btn.innerHTML = `<span class="bg-slate-100 px-2 py-1 rounded mr-3 text-xs font-bold w-6 text-center">${String.fromCharCode(65+i)}</span> <span>${opt}</span>`;
                btn.onclick = () => checkAnswer(i, btn);
                optCont.appendChild(btn);
            });
        }

        function checkAnswer(idx, btn) {
            const q = questions[currentQ];
            const buttons = document.getElementById('options-container').children;
            for(let b of buttons) b.disabled = true;

            userChoices.push(idx);

            if (idx === q.correct) {
                btn.classList.add('correct-btn');
                score += 10;
                playSound('correct');
            } else {
                btn.classList.add('wrong-btn');
                buttons[q.correct].classList.add('correct-btn');
                playSound('wrong');
            }

            const feedback = document.getElementById('feedback');
            feedback.innerText = `Bilgi: ${q.rat}`;
            feedback.classList.remove('hidden', 'bg-emerald-50', 'bg-rose-50', 'text-emerald-700', 'text-rose-700');
            feedback.classList.add(idx === q.correct ? 'bg-emerald-50' : 'bg-rose-50');
            feedback.classList.add(idx === q.correct ? 'text-emerald-700' : 'text-rose-700');

            setTimeout(() => {
                currentQ++;
                if (currentQ < questions.length) updateQuestion();
                else endQuiz();
            }, 2000);
        }

        function endQuiz() {
            clearInterval(timerInterval);
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            document.getElementById('final-score-text').innerText = `Toplam Puan: ${score}`;
            const msg = score >= 80 ? "Harika! Biyoloji senin iÅŸin! ðŸŒŸ" : score >= 50 ? "GÃ¼zel deneme, biraz daha tekrarla baÅŸarabilirsin! ðŸ‘" : "Hemen Ã–zet bÃ¶lÃ¼mÃ¼ne gÃ¶z atmalÄ±sÄ±n! ðŸ’ª";
            document.getElementById('performance-msg').innerText = msg;
            
            generateAnalysis();
        }

        function generateAnalysis() {
            const analysisList = document.getElementById('analysis-list');
            analysisList.innerHTML = '';
            
            questions.forEach((q, i) => {
                const isCorrect = userChoices[i] === q.correct;
                const card = document.createElement('div');
                card.className = `bg-white p-6 rounded-2xl border-l-8 ${isCorrect ? 'border-emerald-500' : 'border-rose-500'} shadow-sm review-card`;
                
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-xs font-bold uppercase tracking-wider ${isCorrect ? 'text-emerald-600' : 'text-rose-600'}">Soru ${i+1} - ${isCorrect ? 'DoÄŸru' : 'YanlÄ±ÅŸ'}</span>
                        <i class="fas ${isCorrect ? 'fa-check-circle text-emerald-500' : 'fa-times-circle text-rose-500'}"></i>
                    </div>
                    <h4 class="font-bold text-slate-800 mb-3">${q.q}</h4>
                    <div class="space-y-1 mb-3 text-sm">
                        <p><span class="text-slate-400">Senin CevabÄ±n:</span> <span class="${isCorrect ? 'text-emerald-600 font-bold' : 'text-rose-600 font-bold'}">${q.options[userChoices[i]] || 'BoÅŸ'}</span></p>
                        ${!isCorrect ? `<p><span class="text-slate-400">DoÄŸru Cevap:</span> <span class="text-emerald-600 font-bold">${q.options[q.correct]}</span></p>` : ''}
                    </div>
                    <div class="bg-slate-50 p-3 rounded-lg text-xs text-slate-600 italic">
                        <strong>Ã‡Ã¶zÃ¼m:</strong> ${q.rat}
                    </div>
                `;
                analysisList.appendChild(card);
            });
        }

        function scrollToAnalysis() {
            document.getElementById('analysis-container').scrollIntoView({ behavior: 'smooth' });
        }

        window.onload = init;
    </script>
</body>
</html>